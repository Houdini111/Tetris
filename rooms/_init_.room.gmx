<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<room>
  <caption></caption>
  <width>25</width>
  <height>25</height>
  <vsnap>32</vsnap>
  <hsnap>32</hsnap>
  <isometric>0</isometric>
  <speed>60</speed>
  <persistent>0</persistent>
  <colour>12632256</colour>
  <showcolour>0</showcolour>
  <code>global.segmentSize = 30;
global.refresh_rates = array(60, 75, 100, 120, 144);
global.resolutions = array( "1024 x 768", "1280 x 720", "1280 x 800", "1280 x 1024", 
                            "1360 x 768", "1366 x 768", "1440 x 900", "1536 x 864",
                            "1600 x 900", "1680 x 1050", "1920 x 1080", "1920 x 1200",
                            "2560 x 1080", "2560 x 1440", "3440 x 1440", "3840 x 2160");

defaults = ds_map_create();
defaults[? "BLOCKS_WIDE"] = 10;
defaults[? "BLOCKS_TALL"] = 20;
defaults[? "UI_PIXEL_WIDTH"] = 120; //70+50
defaults[? "GHOST"] = true;
defaults[? "GRID"] = true;
defaults[? "RAND_METHOD"] = "Bag";
defaults[? "DEBUG_OVERLAY"] = false;
defaults[? "DEBUG_COLORS"] = false;
defaults[? "REFRESH_RATE"] = global.refresh_rates[0];
defaults[? "RESOLUTION"] = global.resolutions[0];
defaults[? "MUSIC_LEVEL"] = 100;
defaults[? "SFX_LEVEL"] = 100;
defaults[? "CLEAR_SPEED"] = 0.1; //Tenths of a second

global.BLOCKS_WIDE = 0;
global.BLOCKS_TALL = 0;

ini_open("settings.ini");
global.BLOCKS_WIDE = ini_read_real("BOARD", "BLOCKS_WIDE", defaults[? "BLOCKS_WIDE"] );
global.BLOCKS_TALL = ini_read_real("BOARD", "BLOCKS_TALL", defaults[? "BLOCKS_TALL"]);
global.UI_PIXEL_WIDTH = ini_read_real("UI", "UI_PIXEL_WIDTH", defaults[? "UI_PIXEL_WIDTH"]);
global.ghost = ini_read_real("UI", "GHOST", defaults[? "GHOST"]);
global.grid = ini_read_real("UI", "GRID", defaults[? "GRID"]);
global.rand_method = ini_read_string("GAMEPLAY", "RAND_METHOD", defaults[? "RAND_METHOD"]);
global.debug_overlay = ini_read_real("DEBUG", "DEBUG_OVERLAY", defaults[? "DEBUG_OVERLAY"]);
global.debug_colors = ini_read_real("DEBUG", "DEBUG_COLORS", defaults[? "DEBUG_OVERLAY"]);
global.refresh_rate = ini_read_real("DISPLAY", "REFRESH_RATE", defaults[? "REFRESH_RATE"]);
global.resolution = ini_read_string("DISPLAY", "RESOLUTION", defaults[? "RESOLUTION"]);
global.music_level = ini_read_real("AUDIO", "MUSIC_LEVEL", defaults[? "MUSIC_LEVEL"]);
global.sfx_level = ini_read_real("AUDIO", "SFX_LEVEL", defaults[? "SFX_LEVEL"]);
global.clear_speed = ini_read_real("GAMEPLAY", "CLEAR_SPEED", defaults[? "CLEAR_SPEED"]);
ini_close();

instance_create(0, 0, obj_input_handler);
save_settings(true, true);

ds_map_destroy(defaults);

show_debug_overlay(global.debug_overlay);

global.GUI_LEFT_SIZE = 100; 
global.GUI_RIGHT_SIZE = 70;

global.VISIBLE_WIDTH = global.BLOCKS_WIDE*global.segmentSize;
global.VISIBLE_HEIGHT = global.BLOCKS_TALL*global.segmentSize;

ROOM_HEIGHT = global.VISIBLE_HEIGHT+(4*global.segmentSize);
ROOM_WIDTH = global.VISIBLE_WIDTH;

global.WINDOW_HEIGHT = global.VISIBLE_HEIGHT; //If any top or bottom UI is added, add it's size here
global.WINDOW_WIDTH = ROOM_WIDTH+global.GUI_LEFT_SIZE+global.GUI_RIGHT_SIZE;

for(i = 1; i &lt;= room_last; i++)
{
    if(room_exists(i))
    {
        room_set_height(i, ROOM_HEIGHT);
        room_set_width(i, ROOM_WIDTH);
        
        room_set_view(i, 0, true, 
            0, ROOM_HEIGHT-global.VISIBLE_HEIGHT, //View x,y 
            global.WINDOW_WIDTH, global.VISIBLE_HEIGHT, //View w,h
            0, 0,   //Port x,y
            global.VISIBLE_WIDTH, global.VISIBLE_HEIGHT, //Port w,h
            0, 0, 0, 0, -1 );
    
        room_set_view_enabled(i, true); 
    }
}
    
//show_debug_message(TOTAL_HEIGHT - global.HEIGHT);


//surface_resize(application_surface, WINDOW_WIDTH, WINDOW_HEIGHT);
surface_resize(application_surface, global.WINDOW_WIDTH, global.VISIBLE_HEIGHT);
window_set_size(global.WINDOW_WIDTH, global.WINDOW_HEIGHT);


room_goto(rm_main_menu);</code>
  <enableViews>0</enableViews>
  <clearViewBackground>-1</clearViewBackground>
  <clearDisplayBuffer>-1</clearDisplayBuffer>
  <makerSettings>
    <isSet>-1</isSet>
    <w>1016</w>
    <h>600</h>
    <showGrid>-1</showGrid>
    <showObjects>-1</showObjects>
    <showTiles>-1</showTiles>
    <showBackgrounds>-1</showBackgrounds>
    <showForegrounds>-1</showForegrounds>
    <showViews>0</showViews>
    <deleteUnderlyingObj>0</deleteUnderlyingObj>
    <deleteUnderlyingTiles>-1</deleteUnderlyingTiles>
    <page>1</page>
    <xoffset>-209</xoffset>
    <yoffset>-441</yoffset>
  </makerSettings>
  <backgrounds>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
  </backgrounds>
  <views>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="1024" hview="768" xport="0" yport="0" wport="1024" hport="768" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
  </views>
  <instances/>
  <tiles/>
  <PhysicsWorld>0</PhysicsWorld>
  <PhysicsWorldTop>0</PhysicsWorldTop>
  <PhysicsWorldLeft>0</PhysicsWorldLeft>
  <PhysicsWorldRight>1024</PhysicsWorldRight>
  <PhysicsWorldBottom>768</PhysicsWorldBottom>
  <PhysicsWorldGravityX>0</PhysicsWorldGravityX>
  <PhysicsWorldGravityY>10</PhysicsWorldGravityY>
  <PhysicsWorldPixToMeters>0.100000001490116</PhysicsWorldPixToMeters>
</room>
